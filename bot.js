const Discord = require('discord.js');
const client = new Discord.Client();
client.on('ready', () => {
  client.user.setGame('💕 بسم اللة الرحمن الرحيم 💕','https://www.twitch.tv/TEST-Broadcast');
  console.log('---------------');
  console.log(' Bot Is Online')
  console.log('---------------')
});

client.login('NTA2MTUxNzc3ODM0MzY5MDUx.DreAPQ.b5nJOofwuPGSu9DaZPNm9NeVU6I');

	client.on('message' , message => {
if (message.content === '^owner') {
         let embed = new Discord.RichEmbed()
.setThumbnail(message.author.avatarURL)    
      .addField("**تم تطوير وبرمجه البوت من قبل 🔧 **","**๖̶̶̶ζ͜͡¤💕7м̃̾ŏŏ_ấĺẻấĺấм̃̾ĩŭ👑\ #5526**")
.setColor('#B101FC')
  message.author.sendEmbed(embed);
    }
});
client.on('guildMemberRemove', Sal => { //By Salto7#4595
  var embed = new Discord.RichEmbed()
  .setAuthor(Sal.user.username, Sal.user.avatarURL)
  .setThumbnail(Sal.user.avatarURL)
  .setImage('https://previews.123rf.com/images/dxinerz/dxinerz1509/dxinerz150901337/45612790-bye-goodbye-icon.jpg') //هنا حط الصوره الي تبيها
  .setTitle('خرج عضو')
  .setDescription('الله معك مع السلامه')
  .addField('``ايدي العضو``:',"" +  Sal.user.id, true)
  .addField('``تاق العضو``', Sal.user.discriminator, true)
  .addField('``تم الانشاء في``', Sal.user.createdAt, true)
  .addField(' 👤 الان ',`**[ ${Sal.guild.memberCount} ]**`,true)
  .setColor('RED')
  .setFooter(Sal.guild.name, Sal.guild.iconURL, true)
  var channel =Sal.guild.channels.find('name', ':sob:By:sob:') // هنا حط اسم الروم الي تبيه يكتب فيه
  if (!channel) return;
  channel.send({embed : embed});
  });
    client.on("guildMemberAdd", function(member) {
  const channel = member.guild.channels.find("name", ":two_hearts:Welcom To Server:two_hearts:")
      const embed = new Discord.RichEmbed()
      .setColor('RANDOM')
      .setAuthor(member.user.tag, member.user.avatarURL)
.setDescription('*** :heart:  ولكم نورت السيرفر يا قلبي نتمني لك الاستمتاع في السيرفر***')
.setThumbnail(member.avatarURL)
.setImage('https://cdn.discordapp.com/attachments/503693641878077475/504221403017510912/download.jpg')
      if (!channel) return;
      channel.sendEmbed(embed);
});
client.on("guildMemberAdd", member => {
  member.createDM().then(function (channel) {
  return channel.send(`:hearts:منور السيرفر:hearts:
:crown:اسمك:crown: : ${member}  
أنت العضو رقم: : ${member.guild.memberCount} `) 
}).catch(console.error)
})
const adminprefix = "^";
const devs = ['430860058591756289','478627305149956097'];
client.on('message', message => {
  var argresult = message.content.split(` `).slice(1).join(' ');
    if (!devs.includes(message.author.id)) return;
    
if (message.content.startsWith(adminprefix + 'setgame')) {
  client.user.setGame(argresult);
    message.channel.sendMessage(`**${argresult} تم تغيير بلاينق البوت إلى **`)
} else 
  if (message.content.startsWith(adminprefix + 'setname')) {
client.user.setUsername(argresult).then
    message.channel.sendMessage(`**${argresult}** : تم تغيير أسم البوت إلى`)
return message.reply("**لا يمكنك تغيير الاسم يجب عليك الانتظآر لمدة ساعتين . **");
} else
  if (message.content.startsWith(adminprefix + 'avatar')) {
client.user.setAvatar(argresult);
  message.channel.sendMessage(`**${argresult}** : تم تغير صورة البوت`);
      } else     
if (message.content.startsWith(adminprefix + 'setT')) {
  client.user.setGame(argresult, "https://www.twitch.tv/idk");
    message.channel.sendMessage(`**تم تغيير تويتش البوت إلى  ${argresult}**`)
}
});
